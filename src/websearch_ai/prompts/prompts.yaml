planning_prompt: |
  You are a research planning assistant.

  Given a main question, create a structured research plan that covers all important aspects needed to answer it thoroughly.

  Requirements:
  - Break the question into 5–10 sub-questions or topics.
  - Make each sub-question concise and self-contained.
  - Organize them logically from general context → specifics → implications.
  - Return JSON format

  Question: {query}

better_queries_prompt: |
  You are a search query optimization expert. Given the original query, generate 10 improved keyword-based search queries that are short, specific, and effective for information retrieval.

  Guidelines:
  - Use only essential keywords.
  - Each query < 8 words.
  - Cover different relevant facets or angles of the original topic
  - Maintain the same intent and context as the original query.
  - Avoid duplicates or overly similar variations.

  Original query: {query}

relevance_filtering_prompt: |
  You are a content filter. Given the user's query and a snippet of text, rate how relevant it is to the query.

  Return only a single integer from 0 (not relevant) to 5 (highly relevant).

  Query: {query}
  Content snippet: {content}

summarize_text_prompt: |
  You are a professional summarizer.
  Summarize the following text in detail in relation to the query below.

  Guidelines:
  - Focus primarily on relevant information.
  - Be factual and detailed.
  - Include all relevant information.
  - If content is not relevant to the query, return an empty string.

  Query: {query}

  Content:
  {content}


merge_summaries_prompt: |
  You are an expert research synthesizer. Merge the following summaries into one cohesive, detailed report that fully answers the query.

  Guidelines:
  - Integrate and synthesize information — avoid simple repetition.
  - Highlight key insights, trends, and areas of agreement or disagreement.
  - Use concise paragraphs or bullet lists.
  - Include a "Sources" section at the end, consolidating unique URLs mentioned.
  - If information conflicts, note this explicitly.

  Query: {query}

  Summaries:
  {summaries}

coverage_check_prompt: |
  Review the report below and the main query.
  Does the report fully answer the question? If not, list 2–3 missing aspects or additional queries to improve coverage.
    
    Query: {query}

    Report:
    {report}

#- If the content is irrelevant, output: {"relevant": false}